<!DOCTYPE html>

<html>
<head>
  <title>RapidGame Pro</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div class="container">
    <div class="page">

      <div class="header">
        
          
          <h1 id="rapidgame-pro">RapidGame Pro</h1>

          
        

        
          <div class="toc">
            <h3>Table of Contents</h3>
            <ol>
              
                
                <li>
                  <a class="source" href="README.html">
                    README.md
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="App.html">
                    App.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="Config.html">
                    Config.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="ConfigServer.html">
                    ConfigServer.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="HelloJavascript.html">
                    HelloJavascript.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="Loader.html">
                    Loader.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="SceneHello.html">
                    SceneHello.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="AdsMobFox.html">
                    AdsMobFox.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="Facebook.html">
                    Facebook.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="Server.html">
                    Server.js
                  </a>
                </li>
              
            </ol>
          </div>
        
      </div>

      
        
        <h2 id="quick-start">Quick Start</h2>

        
      
        
        <ol>
<li>Run the game server: <code>cd RapidGamePro/LemonadeExchange &amp;&amp; ./run-server</code></li>
<li>Browse to <a href="http://localhost:8000/">localhost:8000</a>.</li>
<li>Begin prebuilding the static libraries: <code>cd RapidGamePro &amp;&amp; ./prebuild</code></li>
</ol>
<h2 id="overview">Overview</h2>

        
      
        
        <p>RapidGame Pro is a multi-platform game template which empowers developers to write games in <strong>100% Javascript</strong> while running native C++ code behind the scenes when possible. Knowledge of C++ is recommended, but not required.</p>
<blockquote>
<p>As of the current release, RapidGame Pro is primarily geared for development on a Mac. Developing on Windows or Linux is a beta feature. Full support and documentation for Windows and Linux development is planned.</p>
</blockquote>
<h2 id="folder-structure">Folder Structure</h2>

        
      
        
        
        
          <div class='highlight'><pre>RapidGamePro/
    README.md - Documentation overview <span class="hljs-keyword">in</span> markdown format.
    docs.html - Documentation overview ready <span class="hljs-keyword">for</span> browser.
    prebuild - Executable script which prebuilds the static libraries.
    docs/ - Documentation folder.
    include/ - All the header files necessary to compile a <span class="hljs-reserved">native</span> game client.
    LemonadeExchange/ - A complete example game.
    lib/ - Contains the static libraries after they have been prebuilt.
    src/ - Contains source files <span class="hljs-keyword">for</span> the static libraries.
    template/ - Game template (<span class="hljs-keyword">do</span> <span class="hljs-keyword">not</span> modify, just use tools/create-project).
        art/ - Contains the sprites <span class="hljs-keyword">and</span> sprite sheet.
        js/ - Javascript code which controls the game client.
        lib/ - Libraries.
            cocos2d-html5/ - Cocos2d-HTML5.
            cocos2dx-prebuilt/ - Cocos2d-X prebuilt (light-weight <span class="hljs-keyword">and</span> copyable).
                include/ - Absolute symlink to RapidGamePro/include.
                jsb/ - Javascript bindings.
                lib/ - Absolute symlink to RapidGamePro/lib.
        proj.android/ - Android project files.
        proj.html5/ - HTML5 project files.
        proj.ios_mac/ - iOS <span class="hljs-keyword">and</span> Mac project files.
        proj.linux/ - Linux project files.
        proj.win32/ - Windows project files.
        res/ - Resources <span class="hljs-keyword">and</span> assets.
        run-server - Executable script which launches the server.
        server/ - Contains the server javascript code.
        src/ - Shared <span class="hljs-reserved">native</span> source code.
        upload - Executable script which uploads the HTML5 project to a server.
    tools/ - Contains the project creator.</pre></div>
        
      
        
        <h2 id="client-server-model">Client-Server Model</h2>

        
      
        
        <p>RapidGame Pro is built on the client-server model. For each game, there is one server and one or more clients depending on the platforms to be supported. For example, the game might have Android, iOS and HTML5 clients, all of which communicate with the server.</p>
<p>The server is written in Javascript using Node.js and provides an API. For example, <code>http://localhost:8000/api/counter</code> will show the current visitor number. For HTML5 clients, the server provides HTML, javascript, sprite sheets, sound effects and other assets as requested via HTTP.</p>
<h2 id="client-overview">Client Overview</h2>

        
      
        
        <p>The client uses the Cocos2d JS game engine which is a combination of Cocos2d-X and Cocos2d-HTML5.</p>
<p>On HTML5, the engine starts by loading <code>proj.html5/index.html</code> which boots Cocos2d-HTML5 by loading <code>lib/cocos2d-html5/CCBoot.js</code> and then runs <code>js/App.js</code> which does the rest. The client’s javascript files run in the browser.</p>
<p>On native platforms, the engine starts with <code>main.m</code> or <code>main.cpp</code>, depending on the platform. This loads <code>src/AppDelegate.cpp</code> which finishes booting Cocos2d-X and then runs <code>js/App.js</code>. The game’s javascript files are pre-compiled to byte codes and executed using the SpiderMonkey JS Engine. Some of the files (for example, <code>js/lib/Facebook.js</code>) are superceded by custom bindings which expose exactly the same Javascript API but run C++ or other native code (see <code>RapidGamePro/src/facebook</code>).</p>
<h2 id="pre-building-for-rapid-development">Pre-building for Rapid Development</h2>

        
      
        
        <p>At the heart of RapidGame Pro is the concept of rapid development.</p>
<p>The default way is to create each game project with all of the files necessary for building from scratch. On the first build one must wait while 300+ source files are compiled. The first time a different architecture is selected — for example, by switching to run the device instead of the simulator — the 300+ files are again compiled. Whenever you clean the product, the entire source must once again be compiled.</p>
<p>The problems are:</p>
<ol>
<li><strong>Compilation can be a source of distraction</strong></li>
<li>Accumulated compilation time becomes significant</li>
<li>Limited storage space is consumed by duplicate intermediate build files that can add up to tens of gigabytes.</li>
</ol>
<p>RapidGame Pro’s solution is to prebuild Cocos2d-X as static libraries for all architectures and platforms. This empowers a developer to rebuild a native game client from scratch in seconds, <strong>eliminating the distraction factor</strong>. It also means that Cocos2d-X has to be built only once and consume only 1X the storage space.</p>
<p>To prebuild Cocos2d-X and plugins:</p>

        
          <div class='highlight'><pre>cd RapidGamePro
./prebuild</pre></div>
        
      
        
        <p>When the <code>prebuild</code> command is finished, the static libraries will reside in <code>RapidGamePro/lib</code>. The library files are large because they incorporate object files for all architectures and platforms. When using the project creator, an absolute symlink is established to the <code>lib</code> folder so that:</p>
<ol>
<li>The static libraries reside in one and only one place.</li>
<li>Each game project’s folder can be copied or moved quickly and without disturbing the absolute symlink.</li>
</ol>
<h2 id="project-creator">Project Creator</h2>

        
      
        
        <p>The project creator tool can be used to rapidly create a new project that uses the static libraries. Either the built-in GUI or the commandline version can be used.</p>
<p>To use the GUI version:</p>

        
          <div class='highlight'><pre>cd RapidGamePro
tools/create-project</pre></div>
        
      
        
        <p>To use the commandline version:</p>

        
          <div class='highlight'><pre>cd RapidGamePro
tools/create-project --help
tools/create-project -n HelloWorld -k com.mycompany.helloworld -p ~/code</pre></div>
        
      

        
          <div>
            <h4>Table of Contents</h4>
            <ol>
              
                
                <li>
                  <a class="source" href="README.html">
                    README.md
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="App.html">
                    App.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="Config.html">
                    Config.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="ConfigServer.html">
                    ConfigServer.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="HelloJavascript.html">
                    HelloJavascript.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="Loader.html">
                    Loader.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="SceneHello.html">
                    SceneHello.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="AdsMobFox.html">
                    AdsMobFox.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="Facebook.html">
                    Facebook.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="Server.html">
                    Server.js
                  </a>
                </li>
              
            </ol>
          </div>
        

      <div class="fleur">h</div>
    </div>
  </div>
</body>
</html>
